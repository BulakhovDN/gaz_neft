# üìù Notes API

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

Notes API ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ FastAPI, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–º–µ—Ç–∫–∞–º–∏ —Å —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø–æ —Ä–æ–ª—è–º `User` –∏ `Admin`. –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PostgreSQL. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ JWT –∏ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üí† –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –†–æ–ª—å `User`:

* –°–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ  —Å–≤–æ–∏—Ö –∑–∞–º–µ—Ç–æ–∫.

### –†–æ–ª—å `Admin`:

* –î–æ—Å—Ç—É–ø –∫–æ **–≤—Å–µ–º** –∑–∞–º–µ—Ç–∫–∞–º.
* –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
* –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–º–µ—Ç–∫—É.
* –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (Docker)

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

---

### 2. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` —Ä—è–¥–æ–º —Å docker-compose. –ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:

```env
POSTGRES_DB=notesdb
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password1234
POSTGRES_PORT=5432
POSTGRES_HOST=notesdb

JWT_SECRET_KEY=supersecretkey
```

---

### 3. –°–æ–±–µ—Ä–∏ –∏ –∑–∞–ø—É—Å—Ç–∏ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```bash
docker-compose up -d --build
```

---

### 4. –ü—Ä–∏–º–µ–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
docker exec -it notesapp alembic upgrade head
```

---

### 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```bash
docker exec -it notesapp python -m src.main init
```

---

### 6. Swagger UI

üìñ Swagger UI: [http://localhost:8000/docs](http://localhost:8000/docs)

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

1. –î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å —Ä–æ–ª—å—é User

   * `username`: user@mail.ru
   * `password`: user123

2. –î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å —Ä–æ–ª—å—é Admin

   * `username`: admin@mail.ru
   * `password`: admin123

---

## üîÆ API –º–∞—Ä—à—Ä—É—Ç—ã

| –ú–µ—Ç–æ–¥  | URL                                | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|--------|------------------------------------|-----------------------------------|
| POST   | `/auth/token`                      | –ü–æ–ª—É—á–∏—Ç—å JWT —Ç–æ–∫–µ–Ω                |
| POST   | `/note/`                           | –°–æ–∑–¥–∞—Ç—å –∑–∞–º–µ—Ç–∫—É (User)            |
| GET    | `/note/`                           | –°–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö –∑–∞–º–µ—Ç–æ–∫ (User)       |
| GET    | `/note/{note_id}`                  | –°–≤–æ—è –∑–∞–º–µ—Ç–∫–∞ (User)               |
| PUT    | `/note/{note_id}`                  | –û–±–Ω–æ–≤–∏—Ç—å —Å–≤–æ—é –∑–∞–º–µ—Ç–∫—É (User)      |
| DELETE | `/note/{note_id}`                  | –£–¥–∞–ª–∏—Ç—å —Å–≤–æ—é –∑–∞–º–µ—Ç–∫—É (User)       |
| GET    | `/admin/notes/`                    | –í—Å–µ –∑–∞–º–µ—Ç–∫–∏ (Admin)               |
| GET    | `/admin/notes/{note_id}`           | –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–º–µ—Ç–∫–∏ (Admin) |
| GET    | `/admin/users/{user_id}/notes/`    | –ó–∞–º–µ—Ç–∫–∏ —é–∑–µ—Ä–∞ (Admin)             |
| POST   | `/admin/notes/{note_id}/restore`   | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—É—é –∑–∞–º–µ—Ç–∫—É (Admin)|


---

## üõ† –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

* –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª.
